name: Test ProblemMatchers

on:
    pull_request:

jobs:
    test_matchers:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v2
            - name: Setup PHP
              uses: shivammathur/setup-php@v2
              with:
                  php-version: '8.1'
            - name: Validate composer.json and composer.lock
              run: composer validate --strict
            - name: Install Composer dependencies
              run: composer install --no-progress --prefer-dist --optimize-autoloader
            - name: Run Tests
              run: |
                php vendor/bin/phpunit       
